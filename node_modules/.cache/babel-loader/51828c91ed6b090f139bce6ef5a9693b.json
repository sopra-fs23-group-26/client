{"ast":null,"code":"import axios from 'axios';\nimport { getDomain } from 'helpers/getDomain';\nexport var api = axios.create({\n  baseURL: getDomain(),\n  headers: {\n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Origin': '*'\n  }\n});\nexport var handleError = function handleError(error) {\n  var response = error.response; // catch 4xx and 5xx status codes\n\n  if (response && !!\"\".concat(response.status).match(/^[4|5]\\d{2}$/)) {\n    var info = \"\\nrequest to: \".concat(response.request.responseURL);\n\n    if (response.data.status) {\n      info += \"\\nstatus code: \".concat(response.data.status);\n      info += \"\\nerror: \".concat(response.data.error);\n      info += \"\\nerror message: \".concat(response.data.message);\n    } else {\n      info += \"\\nstatus code: \".concat(response.status);\n      info += \"\\nerror message:\\n\".concat(response.data);\n    }\n\n    console.log('The request was made and answered but was unsuccessful.', error.response);\n    return info;\n  } else {\n    if (error.message.match(/Network Error/)) {\n      alert('The server cannot be reached.\\nDid you start it?');\n    }\n\n    console.log('Something else happened.', error);\n    return error.message;\n  }\n};","map":{"version":3,"sources":["/home/heqing/Downloads/SELAB/M3/client/src/helpers/api.js"],"names":["axios","getDomain","api","create","baseURL","headers","handleError","error","response","status","match","info","request","responseURL","data","message","console","log","alert"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,mBAA1B;AAEA,OAAO,IAAMC,GAAG,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC9BC,EAAAA,OAAO,EAAEH,SAAS,EADY;AAE9BI,EAAAA,OAAO,EAAE;AAAE,oBAAgB,kBAAlB;AAAsC,mCAA+B;AAArE;AAFqB,CAAb,CAAZ;AAKP,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAAC,KAAK,EAAI;AAClC,MAAMC,QAAQ,GAAGD,KAAK,CAACC,QAAvB,CADkC,CAGlC;;AACA,MAAIA,QAAQ,IAAI,CAAC,CAAC,UAAGA,QAAQ,CAACC,MAAZ,EAAqBC,KAArB,CAA2B,cAA3B,CAAlB,EAA8D;AAC5D,QAAIC,IAAI,2BAAoBH,QAAQ,CAACI,OAAT,CAAiBC,WAArC,CAAR;;AAEA,QAAIL,QAAQ,CAACM,IAAT,CAAcL,MAAlB,EAA0B;AACxBE,MAAAA,IAAI,6BAAsBH,QAAQ,CAACM,IAAT,CAAcL,MAApC,CAAJ;AACAE,MAAAA,IAAI,uBAAgBH,QAAQ,CAACM,IAAT,CAAcP,KAA9B,CAAJ;AACAI,MAAAA,IAAI,+BAAwBH,QAAQ,CAACM,IAAT,CAAcC,OAAtC,CAAJ;AACD,KAJD,MAIO;AACLJ,MAAAA,IAAI,6BAAsBH,QAAQ,CAACC,MAA/B,CAAJ;AACAE,MAAAA,IAAI,gCAAyBH,QAAQ,CAACM,IAAlC,CAAJ;AACD;;AAEDE,IAAAA,OAAO,CAACC,GAAR,CAAY,yDAAZ,EAAuEV,KAAK,CAACC,QAA7E;AACA,WAAOG,IAAP;AACD,GAdD,MAcO;AACL,QAAIJ,KAAK,CAACQ,OAAN,CAAcL,KAAd,CAAoB,eAApB,CAAJ,EAA0C;AACxCQ,MAAAA,KAAK,CAAC,kDAAD,CAAL;AACD;;AAEDF,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCV,KAAxC;AACA,WAAOA,KAAK,CAACQ,OAAb;AACD;AACF,CA1BM","sourcesContent":["import axios from 'axios';\nimport { getDomain } from 'helpers/getDomain';\n\nexport const api = axios.create({\n  baseURL: getDomain(),\n  headers: { 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*' }\n});\n\nexport const handleError = error => {\n  const response = error.response;\n\n  // catch 4xx and 5xx status codes\n  if (response && !!`${response.status}`.match(/^[4|5]\\d{2}$/)) {\n    let info = `\\nrequest to: ${response.request.responseURL}`;\n\n    if (response.data.status) {\n      info += `\\nstatus code: ${response.data.status}`;\n      info += `\\nerror: ${response.data.error}`;\n      info += `\\nerror message: ${response.data.message}`;\n    } else {\n      info += `\\nstatus code: ${response.status}`;\n      info += `\\nerror message:\\n${response.data}`;\n    }\n\n    console.log('The request was made and answered but was unsuccessful.', error.response);\n    return info;\n  } else {\n    if (error.message.match(/Network Error/)) {\n      alert('The server cannot be reached.\\nDid you start it?');\n    }\n\n    console.log('Something else happened.', error);\n    return error.message;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}